<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebaseè¨­å®šãƒ˜ãƒ«ãƒ‘ãƒ¼</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .step {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .step h2 {
            color: #1976d2;
            margin-top: 0;
        }
        .button {
            background: #1976d2;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 10px 10px 0;
            text-decoration: none;
            display: inline-block;
        }
        .button:hover {
            background: #1565c0;
        }
        .code {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            margin: 10px 0;
        }
        .input-group {
            margin: 15px 0;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .input-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        .success {
            background: #4caf50;
            color: white;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .warning {
            background: #ff9800;
            color: white;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .copy-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-left: 10px;
        }
        .copy-btn:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <h1>ğŸ”¥ Firebaseè¨­å®šãƒ˜ãƒ«ãƒ‘ãƒ¼</h1>
    <p>ã“ã®ãƒšãƒ¼ã‚¸ã§Firebaseè¨­å®šã‚’ç°¡å˜ã«å®Œäº†ã§ãã¾ã™</p>

    <!-- Step 1 -->
    <div class="step">
        <h2>ã‚¹ãƒ†ãƒƒãƒ—1: Webã‚¢ãƒ—ãƒªç™»éŒ²</h2>
        <p>Firebase Consoleã§Webã‚¢ãƒ—ãƒªã‚’ç™»éŒ²ã—ã¾ã™</p>
        <a href="https://console.firebase.google.com/u/0/project/memo-app-7d6cf/settings/general" target="_blank" class="button">
            Firebase Consoleã‚’é–‹ã
        </a>
        <div class="warning">
            âš ï¸ é–‹ã„ãŸãƒšãƒ¼ã‚¸ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ:
            <ol>
                <li>ã€Œãƒã‚¤ã‚¢ãƒ—ãƒªã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«</li>
                <li>ã€Œ&lt;/&gt;ã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                <li>ã‚¢ãƒ—ãƒªã®ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ : <strong>memo-web-app</strong></li>
                <li>ã€Œã‚¢ãƒ—ãƒªã‚’ç™»éŒ²ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                <li>è¡¨ç¤ºã•ã‚Œã‚‹ <code>firebaseConfig</code> ã®å€¤ã‚’ä¸‹ã«è²¼ã‚Šä»˜ã‘</li>
            </ol>
        </div>
        <div class="input-group">
            <label>apiKey</label>
            <input type="text" id="apiKey" placeholder="AIzaSyC...">
        </div>
        <div class="input-group">
            <label>authDomain</label>
            <input type="text" id="authDomain" value="memo-app-7d6cf.firebaseapp.com">
        </div>
        <div class="input-group">
            <label>projectId</label>
            <input type="text" id="projectId" value="memo-app-7d6cf">
        </div>
        <div class="input-group">
            <label>storageBucket</label>
            <input type="text" id="storageBucket" value="memo-app-7d6cf.appspot.com">
        </div>
        <div class="input-group">
            <label>messagingSenderId</label>
            <input type="text" id="messagingSenderId" placeholder="123456789">
        </div>
        <div class="input-group">
            <label>appId</label>
            <input type="text" id="appId" placeholder="1:123456789:web:xxxxx">
        </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
        <h2>ã‚¹ãƒ†ãƒƒãƒ—2: Googleèªè¨¼è¨­å®š</h2>
        <a href="https://console.firebase.google.com/u/0/project/memo-app-7d6cf/authentication/providers" target="_blank" class="button">
            Authenticationè¨­å®šã‚’é–‹ã
        </a>
        <div class="warning">
            âš ï¸ é–‹ã„ãŸãƒšãƒ¼ã‚¸ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ:
            <ol>
                <li>ã€Œå§‹ã‚ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆåˆå›ã®ã¿ï¼‰</li>
                <li>ã€ŒGoogleã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                <li>ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€ã‚’ON</li>
                <li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: <strong>Memo App</strong></li>
                <li>ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒ¼ãƒ«: ã‚ãªãŸã®Gmail</li>
                <li>ã€Œä¿å­˜ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
        </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
        <h2>ã‚¹ãƒ†ãƒƒãƒ—3: Firestore Databaseä½œæˆ</h2>
        <a href="https://console.firebase.google.com/u/0/project/memo-app-7d6cf/firestore" target="_blank" class="button">
            Firestoreã‚’é–‹ã
        </a>
        <div class="warning">
            âš ï¸ é–‹ã„ãŸãƒšãƒ¼ã‚¸ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ:
            <ol>
                <li>ã€Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                <li>ã€Œæœ¬ç•ªç’°å¢ƒãƒ¢ãƒ¼ãƒ‰ã§é–‹å§‹ã€ã‚’é¸æŠ</li>
                <li>ã€Œæ¬¡ã¸ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                <li>ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³: <strong>asia-northeast1 (Tokyo)</strong></li>
                <li>ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
        </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
        <h2>ã‚¹ãƒ†ãƒƒãƒ—4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«è¨­å®š</h2>
        <a href="https://console.firebase.google.com/u/0/project/memo-app-7d6cf/firestore/rules" target="_blank" class="button">
            ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã‚’é–‹ã
        </a>
        <div class="warning">
            âš ï¸ ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘:
        </div>
        <div class="code" id="securityRules">rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      match /memos/{memoId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
  }
}</div>
        <button class="copy-btn" onclick="copyRules()">ãƒ«ãƒ¼ãƒ«ã‚’ã‚³ãƒ”ãƒ¼</button>
    </div>

    <!-- Step 5 -->
    <div class="step">
        <h2>ã‚¹ãƒ†ãƒƒãƒ—5: æ‰¿èªæ¸ˆã¿ãƒ‰ãƒ¡ã‚¤ãƒ³è¿½åŠ </h2>
        <a href="https://console.firebase.google.com/u/0/project/memo-app-7d6cf/authentication/settings" target="_blank" class="button">
            èªè¨¼è¨­å®šã‚’é–‹ã
        </a>
        <div class="warning">
            âš ï¸ é–‹ã„ãŸãƒšãƒ¼ã‚¸ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ:
            <ol>
                <li>ã€Œæ‰¿èªæ¸ˆã¿ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«</li>
                <li>ã€Œãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                <li>ãƒ‰ãƒ¡ã‚¤ãƒ³: <strong>toru830.github.io</strong></li>
                <li>ã€Œè¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
        </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
        <h2>ã‚¹ãƒ†ãƒƒãƒ—6: GitHub Secretsç”Ÿæˆ</h2>
        <p>ã‚¹ãƒ†ãƒƒãƒ—1ã§å…¥åŠ›ã—ãŸå€¤ã‹ã‚‰GitHub Secretsã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™</p>
        <button class="button" onclick="generateSecrets()">GitHub Secretsæƒ…å ±ã‚’ç”Ÿæˆ</button>
        <div id="secretsOutput"></div>
    </div>

    <!-- Step 7 -->
    <div class="step">
        <h2>ã‚¹ãƒ†ãƒƒãƒ—7: GitHub Secretsã‚’è¿½åŠ </h2>
        <a href="https://github.com/toru830/memo-app/settings/secrets/actions" target="_blank" class="button">
            GitHub Secretsã‚’é–‹ã
        </a>
        <div class="warning">
            âš ï¸ ä¸Šã§ç”Ÿæˆã•ã‚ŒãŸå„Secretã‚’è¿½åŠ :
            <ol>
                <li>ã€ŒNew repository secretã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                <li>Name ã¨ Secret ã‚’å…¥åŠ›</li>
                <li>ã€ŒAdd secretã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                <li>å…¨6ã¤ã®Secretã‚’è¿½åŠ </li>
            </ol>
        </div>
    </div>

    <script>
        function copyRules() {
            const rules = document.getElementById('securityRules').textContent;
            navigator.clipboard.writeText(rules).then(() => {
                alert('ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼Firebase Consoleã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚');
            });
        }

        function generateSecrets() {
            const apiKey = document.getElementById('apiKey').value;
            const authDomain = document.getElementById('authDomain').value;
            const projectId = document.getElementById('projectId').value;
            const storageBucket = document.getElementById('storageBucket').value;
            const messagingSenderId = document.getElementById('messagingSenderId').value;
            const appId = document.getElementById('appId').value;

            if (!apiKey || !messagingSenderId || !appId) {
                alert('ã‚¹ãƒ†ãƒƒãƒ—1ã®å…¨ã¦ã®å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');
                return;
            }

            const secrets = [
                { name: 'VITE_FIREBASE_API_KEY', value: apiKey },
                { name: 'VITE_FIREBASE_AUTH_DOMAIN', value: authDomain },
                { name: 'VITE_FIREBASE_PROJECT_ID', value: projectId },
                { name: 'VITE_FIREBASE_STORAGE_BUCKET', value: storageBucket },
                { name: 'VITE_FIREBASE_MESSAGING_SENDER_ID', value: messagingSenderId },
                { name: 'VITE_FIREBASE_APP_ID', value: appId }
            ];

            let html = '<div class="success">âœ… GitHub Secretsæƒ…å ±ã‚’ç”Ÿæˆã—ã¾ã—ãŸï¼</div>';
            html += '<p>ä»¥ä¸‹ã®å„Secretã‚’ GitHub ã«è¿½åŠ ã—ã¦ãã ã•ã„:</p>';
            
            secrets.forEach(secret => {
                html += `
                    <div style="margin: 15px 0; padding: 10px; background: #f5f5f5; border-radius: 4px;">
                        <strong>Name:</strong> <code>${secret.name}</code><br>
                        <strong>Secret:</strong> <code>${secret.value}</code>
                        <button class="copy-btn" onclick="copyToClipboard('${secret.value}', '${secret.name}')">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                `;
            });

            document.getElementById('secretsOutput').innerHTML = html;
        }

        function copyToClipboard(text, name) {
            navigator.clipboard.writeText(text).then(() => {
                alert(`${name} ã®å€¤ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼`);
            });
        }
    </script>
</body>
</html>
